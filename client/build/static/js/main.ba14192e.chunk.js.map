{"version":3,"sources":["assets/images/blogging.png","redux/actions/index.js","redux/actions/actionCreator.js","components/Navbars/HorizontalNavbar.js","components/Footer/FooterComponent.js","components/Layout/Layout.js","components/Jumbotron/Jumbotron.js","api/api.js","assets/images/default-post-image.jpg","components/PostsGrid/PostsGrid.js","pages/Home/Home.js","pages/Login/LoginForm.js","pages/Login/Login.js","pages/Signup/SignupForm.js","pages/Signup/Signup.js","pages/Posts/NewPost.js","pages/Posts/UserPosts.js","pages/Posts/EditPost.js","assets/images/default-user.png","pages/Users/UserProfile.js","pages/Posts/Post.js","LoggedInRoute.js","NotLoggedInRoute.js","pages/NotFound/NotFound.js","App.js","redux/reducers/userAuthReducer.js","redux/store/sessionStorage.js","redux/reducers/rootReducer.js","redux/sagas/userAuthSaga.js","redux/sagas/rootSaga.js","redux/store/store.js","index.js"],"names":["userAuth","userAuthActions","payload","type","err","SubMenu","Menu","HorizontalNavbar","userState","useSelector","st","user","dispatch","useDispatch","selectedKeys","mode","theme","Item","className","href","src","blogLogo","shape","isLoggedIn","icon","imageUrl","title","userName","SettingOutlined","LoginOutlined","onClick","FormOutlined","UserAddOutlined","FooterComponent","Header","AntdLayout","Footer","Sider","Content","Layout","children","Jumbotron","axiosConfig","baseURL","window","location","hostname","axios","Axios","create","authAPI","data","post","usersAPI","id","get","put","postsAPI","delete","Meta","Card","PostsGrid","reloadPosts","router","useHistory","useState","deleteModal","setDeleteModal","deletePostID","setDeletePostID","reload","setReload","confirmDelete","a","message","success","console","log","response","error","map","item","xs","sm","md","lg","push","postID","_id","hoverable","cover","alt","imagePath","defaultPostImage","actions","createdBy","EditTwoTone","DeleteTwoTone","twoToneColor","description","content","substring","visible","onOk","onCancel","centered","Home","postsData","setPostsData","innerWidth","width","setWidth","errorMsg","setErrorMsg","useEffect","handleResize","addEventListener","removeEventListener","res","RightCircleOutlined","size","autoplay","loop","orientation","Boolean","length","param","LoginForm","initialValues","submissionErrors","setSubmissionErrors","onSubmit","event","validate","values","errors","email","trim","password","render","handleSubmit","submitting","label","labelCol","span","wrapperCol","name","input","meta","touched","color","Password","isEmpty","Object","entries","key","value","disabled","htmlType","Login","SignupForm","confirmPassword","Signup","NewPost","rows","goBack","UserPosts","useLocation","setUserName","userID","setUserID","getPostsData","state","hasOwnProperty","reloadTrigger","EditPost","setInitialValues","setPostID","UserProfile","editing","setEditing","editingPassword","setEditingPassword","defaultUser","oldPassword","form","readOnly","summary","EditFilled","LockFilled","SaveFilled","CaretLeftOutlined","reset","Post","postData","setPostData","userImageUrl","createdByName","moment","createdAt","format","DeleteFilled","danger","LoggedInRoute","Component","component","rest","props","to","pathname","from","NotLoggedInRoute","NotFound","style","height","App","initialState","exact","path","loadState","serializedState","sessionStorage","getItem","token","JSON","parse","saveState","clear","stringify","setItem","emptyState","decodedToken","jwt","decode","rootReducer","combineReducers","action","newState","updatedState","createLogin","createLoginStart","takeEvery","rootSaga","all","call","sagaMiddleware","createSagaMiddleware","onError","errInfo","onSagaError","middleWares","createLogger","store","createStore","applyMiddleware","run","storeConfig","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.ba14192e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/blogging.ffbd0b74.png\";","export const userAuth = {\r\n  LOGIN: \"LOGIN\",\r\n  UPDATE_USER: \"UPDATE_USER\",\r\n  LOGIN_SUCCESS: \"LOGIN_SUCCESS\",\r\n  LOGIN_FAILED: \"LOGIN_FAILED\",\r\n  LOGOUT: \"LOGOUT\",\r\n};\r\n","import { userAuth } from \"./index\";\r\n\r\nexport const userAuthActions = {\r\n  login: (payload) => ({\r\n    type: userAuth.LOGIN,\r\n    payload: payload,\r\n  }),\r\n  loginSuccess: (payload) => ({\r\n    type: userAuth.LOGIN_SUCCESS,\r\n    payload: payload,\r\n  }),\r\n  updateUser: (payload) => ({\r\n    type: userAuth.UPDATE_USER,\r\n    payload: payload,\r\n  }),\r\n  loginFailed: (err) => ({\r\n    type: userAuth.LOGIN_FAILED,\r\n    payload: err,\r\n  }),\r\n  logout: () => ({\r\n    type: userAuth.LOGOUT,\r\n  }),\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  LoginOutlined,\r\n  UserAddOutlined,\r\n  SettingOutlined,\r\n  FormOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Menu, Avatar } from \"antd\";\r\nimport blogLogo from \"./../../assets/images/blogging.png\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { userAuthActions } from \"./../../redux/actions/actionCreator\";\r\nconst { SubMenu } = Menu;\r\n\r\nexport default function HorizontalNavbar() {\r\n  const userState = useSelector((st) => st.user);\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div>\r\n      <Menu selectedKeys={\"logo\"} mode=\"horizontal\" theme=\"dark\">\r\n        <Menu.Item className=\"unhoverable-menu-item\">\r\n          <a href=\"/\">\r\n            <Avatar src={blogLogo} shape=\"square\" /> &nbsp; Blog App\r\n          </a>\r\n        </Menu.Item>\r\n\r\n        {userState.isLoggedIn ? (\r\n          <>\r\n            <SubMenu\r\n              key=\"SubMenu\"\r\n              icon={<Avatar src={userState.user.imageUrl} shape=\"circle\" />}\r\n              title={\" \" + userState.user.userName}\r\n              className=\"float-right unhoverable-menu-item\"\r\n            >\r\n              <Menu.Item key=\"userProfile\" icon={<SettingOutlined />}>\r\n                <a href=\"/user/settings\">User Settings</a>\r\n              </Menu.Item>\r\n              <Menu.Item\r\n                key=\"logout\"\r\n                icon={<LoginOutlined />}\r\n                onClick={() => dispatch(userAuthActions.logout())}\r\n              >\r\n                Logout\r\n              </Menu.Item>\r\n            </SubMenu>\r\n            <Menu.Item\r\n              key=\"newPost\"\r\n              icon={<FormOutlined />}\r\n              className=\"float-right\"\r\n            >\r\n              <a href=\"/post/form\">New Post</a>\r\n            </Menu.Item>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Menu.Item\r\n              key=\"login\"\r\n              icon={<LoginOutlined />}\r\n              className=\"float-right\"\r\n            >\r\n              <a href=\"/login\">Login</a>\r\n            </Menu.Item>\r\n            <Menu.Item\r\n              key=\"logout\"\r\n              icon={<UserAddOutlined />}\r\n              className=\"float-right\"\r\n            >\r\n              <a href=\"/signup\">Signup</a>\r\n            </Menu.Item>\r\n          </>\r\n        )}\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Footer.scss\";\r\n\r\nexport default function FooterComponent() {\r\n  return (\r\n    <div className=\"footer-component\">Â© MERN Blog 2021 by Maryam Aljanabi</div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport HorizontalNavbar from \"./../Navbars/HorizontalNavbar\";\r\nimport { Layout as AntdLayout } from \"antd\";\r\nimport FooterComponent from \"./../Footer/FooterComponent\";\r\n\r\nconst { Header, Footer, Sider, Content } = AntdLayout;\r\n\r\nexport default function Layout({ children }) {\r\n  return (\r\n    <AntdLayout>\r\n      <Header>\r\n        <HorizontalNavbar />\r\n      </Header>\r\n      <div className=\"page-container\">\r\n        <div className=\"page-content\">{children}</div>\r\n        <div className=\"footer\">\r\n          <FooterComponent />\r\n        </div>\r\n      </div>\r\n    </AntdLayout>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Jumbotron.scss\";\r\n\r\nexport default function Jumbotron({ children }) {\r\n  return <div className=\"jumbotron\">{children}</div>;\r\n}\r\n","import Axios from \"axios\";\r\nconst axiosConfig = {\r\n  baseURL: `http://${window.location.hostname}:5000/api`,\r\n};\r\n\r\nconst axios = Axios.create(axiosConfig);\r\n\r\n// AUTH\r\nexport const authAPI = {\r\n  login: (data) => axios.post(`/auth/login`, data),\r\n  signup: (data) => axios.post(`/auth/signup`, data),\r\n};\r\n\r\n// USERS\r\nexport const usersAPI = {\r\n  getAll: () => axios.get(`/users`),\r\n  getOne: (id) => axios.get(`/users/${id}`),\r\n  add: (data) => axios.post(`/users`, data),\r\n  update: (data) => axios.put(`/users`, data),\r\n  delete: (id) => axios.delete(`/users/${id}`),\r\n};\r\n\r\n// POSTS\r\nexport const postsAPI = {\r\n  getAll: () => axios.get(`/posts`),\r\n  getPostByUserId: (id) => axios.get(`/posts/user/${id}`),\r\n  getOne: (id) => axios.get(`/posts/${id}`),\r\n  add: (data) => axios.post(`/posts`, data),\r\n  update: (data) => axios.put(`/posts`, data),\r\n  delete: (id) => axios.delete(`/posts/${id}`),\r\n};\r\n","export default __webpack_public_path__ + \"static/media/default-post-image.dd982f18.jpg\";","import React, { useState } from \"react\";\r\nimport { Row, Col, Card, Modal, message } from \"antd\";\r\nimport defaultPostImage from \"./../../assets/images/default-post-image.jpg\";\r\nimport { EditTwoTone, DeleteTwoTone } from \"@ant-design/icons\";\r\nimport { useHistory } from \"react-router\";\r\nimport \"./PostsGrid.scss\";\r\nimport { postsAPI } from \"./../../api/api\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst { Meta } = Card;\r\n\r\nexport default function PostsGrid({ data, reloadPosts }) {\r\n  const router = useHistory();\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n  const [deletePostID, setDeletePostID] = useState(null);\r\n  const [reload, setReload] = useState(false);\r\n  const userState = useSelector((st) => st.user);\r\n\r\n  const confirmDelete = async () => {\r\n    try {\r\n      await postsAPI.delete(deletePostID);\r\n      setReload(!reload);\r\n      reloadPosts(!reload);\r\n      setDeleteModal(false);\r\n      message.success(\"Post deleted successfully\");\r\n    } catch (error) {\r\n      console.log(\"Error deleting post...\", error.response ?? error);\r\n      message.error(\"Error deleting post\");\r\n      if (error.response && error.response.data) {\r\n        message.error(error.response.data);\r\n      } else message.error(\"Error deleting post\");\r\n      setDeleteModal(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row className=\"posts-container\" type=\"flex\">\r\n        {data.map((item) => (\r\n          <Col xs={24} sm={12} md={8} lg={8} key={item._id}>\r\n            <Card\r\n              onClick={() => router.push(\"/posts/view\", { postID: item._id })}\r\n              hoverable\r\n              cover={\r\n                <div className=\"image-container\">\r\n                  <img\r\n                    alt={item.title}\r\n                    src={item.imagePath ? item.imagePath : defaultPostImage}\r\n                    className=\"card-image\"\r\n                  />\r\n                </div>\r\n              }\r\n              actions={\r\n                item.createdBy === userState.user.id\r\n                  ? [\r\n                      <EditTwoTone\r\n                        key=\"edit\"\r\n                        onClick={() =>\r\n                          router.push(\"/posts/edit\", { postID: item._id })\r\n                        }\r\n                      />,\r\n                      <DeleteTwoTone\r\n                        key=\"delete\"\r\n                        twoToneColor=\"red\"\r\n                        onClick={() => {\r\n                          setDeletePostID(item._id);\r\n                          setDeleteModal(true);\r\n                        }}\r\n                      />,\r\n                    ]\r\n                  : []\r\n              }\r\n            >\r\n              <Meta\r\n                title={item.title}\r\n                description={item.content.substring(0, 100) + \"...\"}\r\n              />\r\n            </Card>\r\n          </Col>\r\n        ))}\r\n      </Row>\r\n\r\n      <Modal\r\n        title=\"Delete Confirmation\"\r\n        visible={deleteModal}\r\n        onOk={() => confirmDelete()}\r\n        onCancel={() => setDeleteModal(false)}\r\n        centered\r\n      >\r\n        <p>Are you sure you want to delete post?</p>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Jumbotron from \"../../components/Jumbotron/Jumbotron\";\r\nimport \"./Home.scss\";\r\nimport { Player } from \"@lottiefiles/react-lottie-player\";\r\nimport { Button, Row, Col, Divider, Card, Spin, Alert } from \"antd\";\r\nimport { RightCircleOutlined } from \"@ant-design/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { postsAPI } from \"../../api/api\";\r\nimport defaultPostImage from \"./../../assets/images/default-post-image.jpg\";\r\nimport { useSelector } from \"react-redux\";\r\nimport PostsGrid from \"../../components/PostsGrid/PostsGrid\";\r\nconst { Meta } = Card;\r\n\r\nexport default function Home() {\r\n  const router = useHistory();\r\n  const userState = useSelector((st) => st.user);\r\n  const [postsData, setPostsData] = useState([]);\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [width]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data: res } = await postsAPI.getAll();\r\n        setPostsData(res);\r\n        setErrorMsg(null);\r\n      } catch (error) {\r\n        setErrorMsg(\"Error loading posts data\");\r\n        console.log(\"Error retrieving all posts...\", error);\r\n      }\r\n    })();\r\n  }, [reload]);\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      {userState.isLoggedIn ? (\r\n        <>\r\n          <Jumbotron>\r\n            <div className=\"home-jumbotron\">\r\n              {width <= 650 ? (\r\n                <div className=\"centered-section\">\r\n                  <h3>A blogging website for</h3>\r\n                  <h2>EVERYONE</h2>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    shape=\"round\"\r\n                    icon={<RightCircleOutlined />}\r\n                    size=\"large\"\r\n                    onClick={() => router.push(\"/signin\")}\r\n                  >\r\n                    Write a post now!\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"left-section\">\r\n                    <h3>A blogging website for</h3>\r\n                    <h2>EVERYONE</h2>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      shape=\"round\"\r\n                      icon={<RightCircleOutlined />}\r\n                      size=\"large\"\r\n                      onClick={() => router.push(\"/signin\")}\r\n                    >\r\n                      Get Started\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"right-section\">\r\n                    <Player\r\n                      autoplay\r\n                      loop\r\n                      src=\"https://assets10.lottiefiles.com/packages/lf20_GtqlRg.json\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </Jumbotron>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Jumbotron>\r\n            <div className=\"home-jumbotron\">\r\n              {width <= 650 ? (\r\n                <div className=\"centered-section\">\r\n                  <h3>A blogging website for</h3>\r\n                  <h2>EVERYONE</h2>\r\n                  <Button\r\n                    type=\"primary\"\r\n                    shape=\"round\"\r\n                    icon={<RightCircleOutlined />}\r\n                    size=\"large\"\r\n                    onClick={() => router.push(\"/signin\")}\r\n                  >\r\n                    Get Started\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <div className=\"left-section\">\r\n                    <h3>A blogging website for</h3>\r\n                    <h2>EVERYONE</h2>\r\n                    <Button\r\n                      type=\"primary\"\r\n                      shape=\"round\"\r\n                      icon={<RightCircleOutlined />}\r\n                      size=\"large\"\r\n                      onClick={() => router.push(\"/signin\")}\r\n                    >\r\n                      Get Started\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"right-section\">\r\n                    <Player\r\n                      autoplay\r\n                      loop\r\n                      src=\"https://assets10.lottiefiles.com/packages/lf20_GtqlRg.json\"\r\n                    />\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          </Jumbotron>\r\n        </>\r\n      )}\r\n      <Divider orientation=\"center\">Most recent posts</Divider>\r\n      {errorMsg ? (\r\n        <div className=\"loader-container\">\r\n          <Alert message={errorMsg} type=\"error\" />\r\n        </div>\r\n      ) : postsData && Boolean(postsData.length) ? (\r\n        <PostsGrid data={postsData} reloadPosts={(param) => setReload(param)} />\r\n      ) : (\r\n        <div className=\"loader-container\">\r\n          <Spin size=\"large\" />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Form, Input, Button, Tag, message } from \"antd\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport isEmpty from \"lodash.isempty\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { userAuthActions } from \"./../../redux/actions/actionCreator\";\r\n\r\nexport default function LoginForm() {\r\n  const router = useHistory();\r\n  const [initialValues, setInitialValues] = useState({});\r\n  const [submissionErrors, setSubmissionErrors] = useState({});\r\n  const dispatch = useDispatch();\r\n  const userState = useSelector((st) => st.user);\r\n\r\n  const onSubmit = async (event) => {\r\n    try {\r\n      dispatch(userAuthActions.login({ user: event }));\r\n    } catch (error) {\r\n      console.log(\"Error logging in user...\", error.response ?? error);\r\n      if (error.response && error.response.data) {\r\n        setSubmissionErrors(error.response.data);\r\n      } else setSubmissionErrors({ err: \"Login error\" });\r\n    }\r\n  };\r\n\r\n  const checkValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.email?.trim()) {\r\n      errors.email = \"Please enter the email\";\r\n    }\r\n    if (!values.password?.trim()) {\r\n      errors.password = \"Please enter the password\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (userState.error) {\r\n      setSubmissionErrors([userState.error]);\r\n    }\r\n    if (userState.isLoggedIn) {\r\n      message.success(\"User logged in successfully\");\r\n      router.push(\"/\");\r\n    }\r\n  }, [userState]);\r\n\r\n  return (\r\n    <FinalForm\r\n      initialValues={initialValues}\r\n      validate={checkValidation}\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit, submitting }) => (\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n          <Form.Item\r\n            label=\"Email\"\r\n            labelCol={{ span: 24 }}\r\n            wrapperCol={{ span: 24 }}\r\n          >\r\n            <Field name=\"email\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input {...input} name=\"email\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Password\" labelCol={{ span: 24 }}>\r\n            <Field name=\"password\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input.Password {...input} name=\"password\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n\r\n          {!isEmpty(submissionErrors) && (\r\n            <div>\r\n              {typeof submissionErrors === \"object\" ? (\r\n                Object.entries(submissionErrors).map(([key, value]) => (\r\n                  <Tag color=\"error\" className=\"full-width\" key={key}>\r\n                    {value}\r\n                  </Tag>\r\n                ))\r\n              ) : (\r\n                <Tag color=\"error\" className=\"full-width\">\r\n                  {submissionErrors}\r\n                </Tag>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"buttons-wrapper-vertical\">\r\n            <Button disabled={submitting} htmlType=\"submit\" type=\"primary\">\r\n              Login\r\n            </Button>\r\n            <Button\r\n              htmlType=\"button\"\r\n              type=\"link\"\r\n              onClick={() => router.push(\"signup\")}\r\n            >\r\n              Don't have an account? Signup!\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Player } from \"@lottiefiles/react-lottie-player\";\r\nimport \"./Login.scss\";\r\nimport LoginForm from \"./LoginForm\";\r\n\r\nexport default function Login() {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [width]);\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      {width <= 650 ? (\r\n        <div className=\"center-panel\">\r\n          <LoginForm />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"left-panel\">\r\n            <LoginForm />\r\n          </div>\r\n          <div className=\"right-panel\">\r\n            <h2>\r\n              #1 Bloggin website for everyone around the globe. Totally free and\r\n              easy to use.\r\n            </h2>\r\n            <Player\r\n              autoplay\r\n              loop\r\n              src=\"https://assets2.lottiefiles.com/packages/lf20_jcikwtux.json\"\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Form, Input, Button, Tag, message } from \"antd\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport { authAPI } from \"./../../api/api\";\r\nimport isEmpty from \"lodash.isempty\";\r\n\r\nexport default function SignupForm() {\r\n  const router = useHistory();\r\n  const [initialValues, setInitialValues] = useState({});\r\n  const [submissionErrors, setSubmissionErrors] = useState({});\r\n\r\n  const onSubmit = async (event) => {\r\n    try {\r\n      await authAPI.signup({ user: event });\r\n      message.success(\"User created successfully\");\r\n      router.push(\"/login\");\r\n    } catch (error) {\r\n      console.log(\"Error registering a new user...\", error.response ?? error);\r\n      if (error.response && error.response.data) {\r\n        setSubmissionErrors(error.response.data);\r\n      } else setSubmissionErrors({ err: \"Signup error\" });\r\n    }\r\n  };\r\n\r\n  const checkValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.userName?.trim()) {\r\n      errors.userName = \"Please enter the userName\";\r\n    }\r\n    if (!values.password?.trim()) {\r\n      errors.password = \"Please enter the password\";\r\n    }\r\n    if (!values.confirmPassword?.trim()) {\r\n      errors.confirmPassword = \"Please enter the password confirmation\";\r\n    } else if (values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = \"Passwords do not match\";\r\n    }\r\n    if (!values.email?.trim()) {\r\n      errors.email = \"Please enter the email\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <FinalForm\r\n      initialValues={initialValues}\r\n      validate={checkValidation}\r\n      onSubmit={onSubmit}\r\n      render={({ handleSubmit, submitting }) => (\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n          <Form.Item\r\n            label=\"UserName\"\r\n            labelCol={{ span: 24 }}\r\n            wrapperCol={{ span: 24 }}\r\n          >\r\n            <Field name=\"userName\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input {...input} name=\"userName\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Password\" labelCol={{ span: 24 }}>\r\n            <Field name=\"password\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input.Password {...input} name=\"password\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Confirm Password\" labelCol={{ span: 24 }}>\r\n            <Field name=\"confirmPassword\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input.Password {...input} name=\"confirmPassword\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Email\" labelCol={{ span: 24 }}>\r\n            <Field name=\"email\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input {...input} name=\"email\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Summary\" labelCol={{ span: 24 }}>\r\n            <Field name=\"summary\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input {...input} name=\"summary\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n          <Form.Item label=\"Image URL\" labelCol={{ span: 24 }}>\r\n            <Field name=\"imagePath\">\r\n              {({ input, meta }) => (\r\n                <div>\r\n                  <Input {...input} name=\"imagePath\" />\r\n                  {meta.touched && meta.error && (\r\n                    <Tag color=\"error\">{meta.error}</Tag>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </Field>\r\n          </Form.Item>\r\n\r\n          {!isEmpty(submissionErrors) && (\r\n            <div>\r\n              {Object.entries(submissionErrors).map(([key, value]) => (\r\n                <Tag color=\"error\" className=\"full-width\" key={key}>\r\n                  {value}\r\n                </Tag>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"buttons-wrapper-vertical\">\r\n            <Button disabled={submitting} htmlType=\"submit\" type=\"primary\">\r\n              Signup\r\n            </Button>\r\n            <Button\r\n              htmlType=\"button\"\r\n              type=\"link\"\r\n              onClick={() => router.push(\"login\")}\r\n            >\r\n              Already have an account? Login!\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    />\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Player } from \"@lottiefiles/react-lottie-player\";\r\nimport SignupForm from \"./SignupForm\";\r\n\r\nexport default function Signup() {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [width]);\r\n\r\n  return (\r\n    <div className=\"signup\">\r\n      {width <= 650 ? (\r\n        <div className=\"center-panel\">\r\n          <h2 className=\"centered-text\">Sign up for free</h2>\r\n          <SignupForm />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"center-panel-small\">\r\n            <h2 className=\"centered-text\">Sign up for free</h2>\r\n            <SignupForm />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Form, Input, Button, Tag, message } from \"antd\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport isEmpty from \"lodash.isempty\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport { postsAPI } from \"./../../api/api\";\r\n\r\nexport default function NewPost() {\r\n  const router = useHistory();\r\n  const [initialValues, setInitialValues] = useState({});\r\n  const [submissionErrors, setSubmissionErrors] = useState({});\r\n  const userState = useSelector((st) => st.user);\r\n\r\n  const onSubmit = async (event) => {\r\n    try {\r\n      await postsAPI.add({\r\n        post: { ...event, createdBy: userState.user.id },\r\n      });\r\n      message.success(\"Post created successfully\");\r\n      router.push(\"/\");\r\n    } catch (error) {\r\n      console.log(\"Error creating a new post...\", error.response ?? error);\r\n      if (error.response && error.response.data) {\r\n        setSubmissionErrors(error.response.data);\r\n      } else setSubmissionErrors({ err: \"Post error\" });\r\n    }\r\n  };\r\n\r\n  const checkValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.title?.trim()) {\r\n      errors.title = \"Please enter the post's title\";\r\n    }\r\n    if (!values.content?.trim()) {\r\n      errors.content = \"Please enter the post's content\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h3>Create a new post</h3>\r\n      <FinalForm\r\n        initialValues={initialValues}\r\n        validate={checkValidation}\r\n        onSubmit={onSubmit}\r\n        render={({ handleSubmit, submitting }) => (\r\n          <form className=\"form\" onSubmit={handleSubmit}>\r\n            <Form.Item\r\n              label=\"Title\"\r\n              labelCol={{ span: 24 }}\r\n              wrapperCol={{ span: 24 }}\r\n            >\r\n              <Field name=\"title\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <Input {...input} name=\"title\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Content\" labelCol={{ span: 24 }}>\r\n              <Field name=\"content\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <TextArea rows={4} {...input} name=\"content\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Image URL\" labelCol={{ span: 24 }}>\r\n              <Field name=\"imagePath\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <Input {...input} name=\"imagePath\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            {!isEmpty(submissionErrors) && (\r\n              <div>\r\n                {Object.entries(submissionErrors).map(([key, value]) => (\r\n                  <Tag color=\"error\" className=\"full-width\" key={key}>\r\n                    {value}\r\n                  </Tag>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"buttons-wrapper-horizontal\">\r\n              <Button disabled={submitting} htmlType=\"submit\" type=\"primary\">\r\n                Create Post\r\n              </Button>\r\n              <Button htmlType=\"button\" onClick={() => router.goBack()}>\r\n                Back\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { postsAPI } from \"./../../api/api\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport PostsGrid from \"../../components/PostsGrid/PostsGrid\";\r\n\r\nexport default function UserPosts() {\r\n  const userState = useSelector((st) => st.user);\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n  const [postsData, setPostsData] = useState([]);\r\n  const location = useLocation();\r\n  const [userName, setUserName] = useState(null);\r\n  const [userID, setUserID] = useState(null);\r\n  const [reload, setReload] = useState(false);\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWidth(window.innerWidth);\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, [width]);\r\n\r\n  const getPostsData = async () => {\r\n    try {\r\n      const { data: res } = await postsAPI.getPostByUserId(\r\n        userID ?? userState.user.id\r\n      );\r\n      console.log(res);\r\n      setPostsData(res);\r\n    } catch (error) {\r\n      console.log(\"Error retrieving all posts...\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (\r\n        location.state &&\r\n        location.state.hasOwnProperty(\"userID\") &&\r\n        location.state.hasOwnProperty(\"userName\")\r\n      ) {\r\n        setUserName(location.state.userName);\r\n        setUserID(location.state.userID);\r\n      }\r\n\r\n      getPostsData();\r\n    })();\r\n  }, [location.state]);\r\n\r\n  useEffect(() => {\r\n    getPostsData();\r\n  }, [reload]);\r\n\r\n  return (\r\n    <div className=\"posts-div\">\r\n      <h2>{userName ? `Posts of user ${userName}` : \"Your posts\"}</h2>\r\n      {Boolean(postsData) && Boolean(postsData.length) ? (\r\n        <PostsGrid\r\n          data={postsData}\r\n          reloadPosts={(reloadTrigger) => setReload(reloadTrigger)}\r\n        />\r\n      ) : (\r\n        <h2>You have no posts yet</h2>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Form, Input, Button, Tag, message } from \"antd\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport isEmpty from \"lodash.isempty\";\r\nimport { useSelector } from \"react-redux\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\nimport { postsAPI } from \"./../../api/api\";\r\n\r\nexport default function EditPost() {\r\n  const router = useHistory();\r\n  const [initialValues, setInitialValues] = useState({});\r\n  const [submissionErrors, setSubmissionErrors] = useState({});\r\n  const userState = useSelector((st) => st.user);\r\n  const location = useLocation();\r\n  const [postID, setPostID] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let id = null;\r\n    (async () => {\r\n      if (location.state && location.state.hasOwnProperty(\"postID\")) {\r\n        id = location.state.postID;\r\n        setPostID(id);\r\n        try {\r\n          const { data: res } = await postsAPI.getOne(id);\r\n          console.log(res);\r\n          setInitialValues(res);\r\n        } catch (error) {\r\n          console.log(\"Error retrieving one post...\", error);\r\n        }\r\n      } else {\r\n        message.error(\"Post ID was not provided\");\r\n        router.goBack();\r\n      }\r\n    })();\r\n  }, [location.state]);\r\n\r\n  const onSubmit = async (event) => {\r\n    try {\r\n      await postsAPI.update({\r\n        post: event,\r\n      });\r\n      message.success(\"Post updated successfully\");\r\n      router.goBack();\r\n    } catch (error) {\r\n      console.log(\"Error updating post...\", error.response ?? error);\r\n      if (error.response && error.response.data) {\r\n        setSubmissionErrors(error.response.data);\r\n      } else setSubmissionErrors({ err: \"Update error\" });\r\n    }\r\n  };\r\n\r\n  const checkValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.title?.trim()) {\r\n      errors.title = \"Please enter the post's title\";\r\n    }\r\n    if (!values.content?.trim()) {\r\n      errors.content = \"Please enter the post's content\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-container\">\r\n      <h3>Edit post</h3>\r\n      <FinalForm\r\n        initialValues={initialValues}\r\n        validate={checkValidation}\r\n        onSubmit={onSubmit}\r\n        render={({ handleSubmit, submitting }) => (\r\n          <form className=\"form\" onSubmit={handleSubmit}>\r\n            <Form.Item\r\n              label=\"Title\"\r\n              labelCol={{ span: 24 }}\r\n              wrapperCol={{ span: 24 }}\r\n            >\r\n              <Field name=\"title\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <Input {...input} name=\"title\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Content\" labelCol={{ span: 24 }}>\r\n              <Field name=\"content\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <TextArea rows={4} {...input} name=\"content\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            <Form.Item label=\"Image URL\" labelCol={{ span: 24 }}>\r\n              <Field name=\"imagePath\">\r\n                {({ input, meta }) => (\r\n                  <div>\r\n                    <Input {...input} name=\"imagePath\" />\r\n                    {meta.touched && meta.error && (\r\n                      <Tag color=\"error\">{meta.error}</Tag>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </Field>\r\n            </Form.Item>\r\n\r\n            {!isEmpty(submissionErrors) && (\r\n              <div>\r\n                {Object.entries(submissionErrors).map(([key, value]) => (\r\n                  <Tag color=\"error\" className=\"full-width\" key={key}>\r\n                    {value}\r\n                  </Tag>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"buttons-wrapper-horizontal\">\r\n              <Button disabled={submitting} htmlType=\"submit\" type=\"primary\">\r\n                Update Post\r\n              </Button>\r\n              <Button htmlType=\"button\" onClick={() => router.goBack()}>\r\n                Back\r\n              </Button>\r\n            </div>\r\n          </form>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/default-user.c3f94521.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Form, Input, Button, Tag, message, Image } from \"antd\";\r\nimport {\r\n  EditFilled,\r\n  LockFilled,\r\n  SaveFilled,\r\n  CaretLeftOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Form as FinalForm, Field } from \"react-final-form\";\r\nimport isEmpty from \"lodash.isempty\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { usersAPI } from \"./../../api/api\";\r\nimport defaultUser from \"./../../assets/images/default-user.png\";\r\nimport \"./UserProfile.scss\";\r\nimport { userAuthActions } from \"./../../redux/actions/actionCreator\";\r\n\r\nexport default function UserProfile() {\r\n  const router = useHistory();\r\n  const [initialValues, setInitialValues] = useState({});\r\n  const [submissionErrors, setSubmissionErrors] = useState({});\r\n  const userState = useSelector((st) => st.user);\r\n  const [editing, setEditing] = useState(false);\r\n  const [editingPassword, setEditingPassword] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (userState && userState.user && userState.user.id) {\r\n        try {\r\n          const { data: res } = await usersAPI.getOne(userState.user.id);\r\n          setInitialValues(res);\r\n        } catch (error) {\r\n          console.log(\"Error retrieving user data...\", error);\r\n        }\r\n      } else {\r\n        message.error(\"An error occured while retrieving user ID\");\r\n        router.push(\"/\");\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const checkValidation = (values) => {\r\n    const errors = {};\r\n    if (editing && !values.userName?.trim()) {\r\n      errors.userName = \"Please enter the userName\";\r\n    }\r\n    if (editingPassword && !values.oldPassword?.trim()) {\r\n      errors.password = \"Please enter the old password\";\r\n    }\r\n    if (editingPassword && !values.password?.trim()) {\r\n      errors.password = \"Please enter the password\";\r\n    }\r\n    if (editingPassword && !values.confirmPassword?.trim()) {\r\n      errors.confirmPassword = \"Please enter the password confirmation\";\r\n    } else if (editingPassword && values.confirmPassword !== values.password) {\r\n      errors.confirmPassword = \"Passwords do not match\";\r\n    }\r\n    if (editing && !values.email?.trim()) {\r\n      errors.email = \"Please enter the email\";\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (event) => {\r\n    setSubmissionErrors([]);\r\n    try {\r\n      await usersAPI.update({ user: event });\r\n      dispatch(userAuthActions.updateUser(event));\r\n      message.success(\"User profile updated successfully\");\r\n      setEditing(false);\r\n      setEditingPassword(false);\r\n      setInitialValues(event);\r\n    } catch (error) {\r\n      console.log(\"Error updating user profile..\", error.response ?? error);\r\n      if (error.response && error.response.data) {\r\n        setSubmissionErrors(error.response.data);\r\n      } else setSubmissionErrors({ err: \"Profile update error\" });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"user-profile\">\r\n        <h2 className=\"centered-text \">{initialValues.userName}'s Profile</h2>\r\n        <div className=\"user-image centered-text \">\r\n          <Image\r\n            className=\"image\"\r\n            src={initialValues.imagePath ?? defaultUser}\r\n          />\r\n        </div>\r\n        <div className=\"user-info\">\r\n          <FinalForm\r\n            initialValues={initialValues}\r\n            validate={checkValidation}\r\n            onSubmit={onSubmit}\r\n            render={({ handleSubmit, submitting, form }) => (\r\n              <form className=\"form\" onSubmit={handleSubmit}>\r\n                <Form.Item\r\n                  label=\"UserName\"\r\n                  labelCol={{ span: 24 }}\r\n                  wrapperCol={{ span: 24 }}\r\n                >\r\n                  <Field name=\"userName\">\r\n                    {({ input, meta }) => (\r\n                      <div>\r\n                        <Input\r\n                          {...input}\r\n                          name=\"userName\"\r\n                          readOnly={!editing}\r\n                          className={!editing && \"disabled\"}\r\n                        />\r\n                        {meta.touched && meta.error && (\r\n                          <Tag color=\"error\">{meta.error}</Tag>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                </Form.Item>\r\n\r\n                <Form.Item label=\"Email\" labelCol={{ span: 24 }}>\r\n                  <Field name=\"email\">\r\n                    {({ input, meta }) => (\r\n                      <div>\r\n                        <Input\r\n                          {...input}\r\n                          name=\"email\"\r\n                          readOnly={!editing}\r\n                          className={!editing && \"disabled\"}\r\n                        />\r\n                        {meta.touched && meta.error && (\r\n                          <Tag color=\"error\">{meta.error}</Tag>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                </Form.Item>\r\n                <Form.Item label=\"Summary\" labelCol={{ span: 24 }}>\r\n                  <Field name=\"summary\">\r\n                    {({ input, meta }) => (\r\n                      <div>\r\n                        <Input\r\n                          {...input}\r\n                          value={\r\n                            !initialValues.summary && !editing\r\n                              ? \"No content\"\r\n                              : initialValues.summary\r\n                          }\r\n                          name=\"summary\"\r\n                          readOnly={!editing}\r\n                          className={!editing && \"disabled\"}\r\n                        />\r\n                        {meta.touched && meta.error && (\r\n                          <Tag color=\"error\">{meta.error}</Tag>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                </Form.Item>\r\n                {editing && (\r\n                  <Form.Item label=\"Image URL\" labelCol={{ span: 24 }}>\r\n                    <Field name=\"imagePath\">\r\n                      {({ input, meta }) => (\r\n                        <div>\r\n                          <Input {...input} name=\"imagePath\" />\r\n                          {meta.touched && meta.error && (\r\n                            <Tag color=\"error\">{meta.error}</Tag>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </Field>\r\n                  </Form.Item>\r\n                )}\r\n\r\n                {editingPassword && (\r\n                  <>\r\n                    <Form.Item label=\"Old Password\" labelCol={{ span: 24 }}>\r\n                      <Field name=\"oldPassword\">\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <Input.Password\r\n                              {...input}\r\n                              name=\"oldPassword\"\r\n                              className=\"no-radius\"\r\n                            />\r\n                            {meta.touched && meta.error && (\r\n                              <Tag color=\"error\">{meta.error}</Tag>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Password\" labelCol={{ span: 24 }}>\r\n                      <Field name=\"password\">\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <Input.Password {...input} name=\"password\" />\r\n                            {meta.touched && meta.error && (\r\n                              <Tag color=\"error\">{meta.error}</Tag>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                    </Form.Item>\r\n                    <Form.Item label=\"Confirm Password\" labelCol={{ span: 24 }}>\r\n                      <Field name=\"confirmPassword\">\r\n                        {({ input, meta }) => (\r\n                          <div>\r\n                            <Input.Password {...input} name=\"confirmPassword\" />\r\n                            {meta.touched && meta.error && (\r\n                              <Tag color=\"error\">{meta.error}</Tag>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n                      </Field>\r\n                    </Form.Item>\r\n                  </>\r\n                )}\r\n\r\n                {!isEmpty(submissionErrors) && (\r\n                  <div>\r\n                    {Object.entries(submissionErrors).map(([key, value]) => (\r\n                      <Tag color=\"error\" className=\"full-width\" key={key}>\r\n                        {value}\r\n                      </Tag>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"buttons-wrapper-horizontal m-auto\">\r\n                  {!(editing || editingPassword) && (\r\n                    <>\r\n                      <Button\r\n                        htmlType=\"button\"\r\n                        type=\"primary\"\r\n                        icon={<EditFilled />}\r\n                        onClick={() => {\r\n                          setEditing(true);\r\n                          setEditingPassword(false);\r\n                        }}\r\n                      >\r\n                        Edit Profile\r\n                      </Button>\r\n                      <Button\r\n                        htmlType=\"button\"\r\n                        type=\"primary\"\r\n                        icon={<LockFilled />}\r\n                        onClick={() => {\r\n                          setEditing(false);\r\n                          setEditingPassword(true);\r\n                        }}\r\n                      >\r\n                        Edit Password\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n\r\n                  {(editing || editingPassword) && (\r\n                    <>\r\n                      <Button\r\n                        disabled={submitting}\r\n                        htmlType=\"submit\"\r\n                        type=\"primary\"\r\n                        icon={<SaveFilled />}\r\n                      >\r\n                        Submit\r\n                      </Button>\r\n                      <Button\r\n                        htmlType=\"button\"\r\n                        type=\"primary\"\r\n                        icon={<CaretLeftOutlined />}\r\n                        onClick={() => {\r\n                          setEditing(false);\r\n                          setEditingPassword(false);\r\n                          form.reset();\r\n                        }}\r\n                      >\r\n                        Cancel\r\n                      </Button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </form>\r\n            )}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { Button, message, Image } from \"antd\";\r\nimport { EditFilled, DeleteFilled } from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { postsAPI } from \"./../../api/api\";\r\nimport \"./Post.scss\";\r\nimport defaultPostImage from \"./../../assets/images/default-post-image.jpg\";\r\nimport defaultUser from \"./../../assets/images/default-user.png\";\r\nimport moment from \"moment\";\r\nimport Avatar from \"antd/lib/avatar/avatar\";\r\n\r\nexport default function Post() {\r\n  const [postData, setPostData] = useState({});\r\n  const router = useHistory();\r\n  const userState = useSelector((st) => st.user);\r\n  const location = useLocation();\r\n  const [deleteModal, setDeleteModal] = useState(false);\r\n  const [deletePostID, setDeletePostID] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let id = null;\r\n    (async () => {\r\n      if (location.state && location.state.hasOwnProperty(\"postID\")) {\r\n        id = location.state.postID;\r\n        try {\r\n          const { data: res } = await postsAPI.getOne(id);\r\n          setPostData(res);\r\n        } catch (error) {\r\n          console.log(\"Error retrieving one post...\", error);\r\n        }\r\n      } else {\r\n        message.error(\"An error occured while retrieving post ID\");\r\n        router.push(\"/\");\r\n      }\r\n    })();\r\n  }, [location.state]);\r\n\r\n  return (\r\n    <div className=\"view-post\">\r\n      <div className=\"post-header\">\r\n        <h1>{postData.title}</h1>\r\n        <div className=\"two-cols\">\r\n          <div>\r\n            <Avatar size=\"large\" src={postData.userImageUrl ?? defaultUser} />\r\n            &nbsp;\r\n            {postData.createdByName}\r\n          </div>\r\n          <p>{moment(postData.createdAt).format(\"DD MMMM YYYY\")}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"centered-text\">\r\n        <Image\r\n          src={postData.imagePath ? postData.imagePath : defaultPostImage}\r\n        />\r\n      </div>\r\n      <div className=\"post-content\">{postData.content}</div>\r\n      {postData.createdBy === userState.user.id && (\r\n        <div className=\"buttons-wrapper-horizontal\">\r\n          <Button\r\n            htmlType=\"button\"\r\n            type=\"primary\"\r\n            icon={<EditFilled />}\r\n            onClick={() => router.push(\"/posts/edit\", { postID: postData._id })}\r\n          >\r\n            Edit Profile\r\n          </Button>\r\n\r\n          <Button\r\n            htmlType=\"button\"\r\n            type=\"primary\"\r\n            icon={<DeleteFilled />}\r\n            danger\r\n            onClick={() => {\r\n              setDeletePostID(postData._id);\r\n              setDeleteModal(true);\r\n            }}\r\n          >\r\n            Edit Profile\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst LoggedInRoute = ({ component: Component, ...rest }) => {\r\n  const userState = useSelector((st) => st.user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        userState.isLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{ pathname: \"/login\", state: { from: props.location } }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoggedInRoute;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst NotLoggedInRoute = ({ component: Component, ...rest }) => {\r\n  const userState = useSelector((st) => st.user);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        !userState.isLoggedIn ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default NotLoggedInRoute;\r\n","import React from \"react\";\r\nimport { Player } from \"@lottiefiles/react-lottie-player\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <div className=\"my-2-auto\">\r\n      <h1 className=\"centered-text\">Page not found</h1>\r\n      <Player\r\n        autoplay\r\n        loop\r\n        style={{ height: \"500px\" }}\r\n        src=\"https://assets1.lottiefiles.com/packages/lf20_zxliqmhr.json\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import { Switch, Route } from \"react-router-dom\";\r\nimport Layout from \"./components/Layout/Layout\";\r\nimport Home from \"./pages/Home/Home\";\r\nimport Login from \"./pages/Login/Login\";\r\nimport Signup from \"./pages/Signup/Signup\";\r\nimport NewPost from \"./pages/Posts/NewPost\";\r\nimport UserPosts from \"./pages/Posts/UserPosts\";\r\nimport EditPost from \"./pages/Posts/EditPost\";\r\nimport UserProfile from \"./pages/Users/UserProfile\";\r\nimport Post from \"./pages/Posts/Post\";\r\nimport LoggedInRoute from \"./LoggedInRoute\";\r\nimport NotLoggedInRoute from \"./NotLoggedInRoute\";\r\nimport NotFound from \"./pages/NotFound/NotFound\";\r\n\r\nfunction App() {\r\n  return (\r\n    <Layout>\r\n      <Switch>\r\n        <Route exact path={[\"/\", \"/home\"]} component={Home} />\r\n        <NotLoggedInRoute exact path=\"/login\" component={Login} />\r\n        <NotLoggedInRoute exact path=\"/signup\" component={Signup} />\r\n        <Route exact path=\"/user/posts\" component={UserPosts} />\r\n        <Route exact path=\"/user/profile\" component={UserProfile} />\r\n        <Route exact path=\"/posts/view\" component={Post} />\r\n        <LoggedInRoute exact path=\"/posts/new\" component={NewPost} />\r\n        <LoggedInRoute exact path=\"/posts/edit\" component={EditPost} />\r\n        <Route component={NotFound} />\r\n      </Switch>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { userAuth as actions } from \"./../actions/index\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport { saveState, loadState } from \"./../store/sessionStorage\";\r\n\r\nlet initialState;\r\nconst emptyState = {\r\n  isLoggedIn: false,\r\n  error: \"\",\r\n  token: null,\r\n  user: {\r\n    id: \"\",\r\n    userName: \"\",\r\n    imagePath: \"\",\r\n  },\r\n};\r\nif (loadState() && loadState().token) {\r\n  const decodedToken = jwt.decode(loadState().token);\r\n  initialState = {\r\n    ...loadState(),\r\n    user: {\r\n      id: decodedToken.id,\r\n      userName: decodedToken.userName,\r\n      imagePath: decodedToken.imagePath,\r\n    },\r\n  };\r\n} else {\r\n  initialState = { ...emptyState };\r\n}\r\n\r\nexport const userAuthReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actions.LOGIN_SUCCESS:\r\n      let newState;\r\n      if (loadState() && loadState().token) {\r\n        const decodedToken = jwt.decode(loadState().token);\r\n        newState = {\r\n          ...loadState(),\r\n          user: {\r\n            id: decodedToken.id,\r\n            userName: decodedToken.userName,\r\n            imagePath: decodedToken.imagePath,\r\n          },\r\n        };\r\n      }\r\n      return newState;\r\n\r\n    case actions.UPDATE_USER:\r\n      let updatedState = {\r\n        ...state,\r\n        user: {\r\n          ...state.user,\r\n          imagePath: action.payload.imagePath,\r\n          userName: action.payload.userName,\r\n        },\r\n      };\r\n      saveState(updatedState);\r\n      return updatedState;\r\n\r\n    case actions.LOGOUT:\r\n      saveState(emptyState);\r\n      return emptyState;\r\n\r\n    case actions.LOGIN_FAILED:\r\n      if (action.payload) {\r\n        let newState = {\r\n          token: null,\r\n          isLoggedIn: false,\r\n          error: action.payload,\r\n        };\r\n        saveState(newState);\r\n        return newState;\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const loadState = () => {\r\n  try {\r\n    const serializedState = sessionStorage.getItem(\"user\");\r\n\r\n    if (serializedState === null) {\r\n      return {\r\n        isLoggedIn: false,\r\n        errors: \"\",\r\n        token: null,\r\n      };\r\n    }\r\n\r\n    return JSON.parse(serializedState);\r\n  } catch (error) {\r\n    console.log(\"Load state error...\", error.response ?? error);\r\n    return undefined;\r\n  }\r\n};\r\n\r\nexport const saveState = (state) => {\r\n  try {\r\n    sessionStorage.clear();\r\n    const serializedState = JSON.stringify(state);\r\n    sessionStorage.setItem(\"user\", serializedState);\r\n  } catch (error) {\r\n    console.log(\"Save state error...\", error.response ?? error);\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport { userAuthReducer } from \"./userAuthReducer\";\r\n\r\nconst rootReducer = combineReducers({\r\n  user: userAuthReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { put, takeEvery } from \"redux-saga/effects\";\r\nimport { userAuth as actions } from \"../actions\";\r\nimport { userAuthActions } from \"./../actions/actionCreator\";\r\nimport { authAPI } from \"./../../api/api\";\r\nimport { saveState } from \"./../store/sessionStorage\";\r\n\r\nfunction* createLogin(action) {\r\n  try {\r\n    const response = yield authAPI.login(action.payload);\r\n    if (response.data.token) {\r\n      const token = response.data.token;\r\n      saveState({\r\n        isLoggedIn: true,\r\n        error: \"\",\r\n        token: token,\r\n      });\r\n      yield put(\r\n        userAuthActions.loginSuccess({\r\n          token,\r\n        })\r\n      );\r\n    }\r\n  } catch (err) {\r\n    yield put(userAuthActions.loginFailed(\"Login data is incorrect\"));\r\n  }\r\n}\r\n\r\nexport function* createLoginStart() {\r\n  yield takeEvery(actions.LOGIN, createLogin);\r\n}\r\n","import { all, call } from \"redux-saga/effects\";\r\nimport { createLoginStart } from \"./userAuthSaga\";\r\n\r\nexport default function* rootSaga() {\r\n  yield all([call(createLoginStart)]);\r\n}\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport { createLogger } from \"redux-logger\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootReducer from \"../reducers/rootReducer\";\r\nimport rootSaga from \"../sagas/rootSaga\";\r\n\r\n// const persistedState = loadState();\r\n\r\nconst onSagaUncaughtErrors = (err, errInfo) => {\r\n  console.log({ onSagaError: \"saga error\", err, errInfo });\r\n};\r\n\r\nconst sagaMiddleware = createSagaMiddleware({ onError: onSagaUncaughtErrors });\r\nconst loggerMiddleware = createLogger();\r\n\r\nconst middleWares = [loggerMiddleware, sagaMiddleware];\r\n\r\nlet reduxStore;\r\n\r\nconst storeConfig = () => {\r\n  const store = createStore(rootReducer, applyMiddleware(...middleWares));\r\n\r\n  // start redux sagas\r\n  sagaMiddleware.run(rootSaga);\r\n  reduxStore = store;\r\n\r\n  return store;\r\n};\r\n\r\nexport { reduxStore };\r\nexport default storeConfig;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./assets/styles/index.scss\";\r\nimport App from \"./App\";\r\nimport \"antd/dist/antd.css\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport storeConfig from \"./redux/store/store\";\r\n\r\nconst store = storeConfig();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </Provider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}